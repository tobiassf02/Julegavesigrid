<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <title>Gledelig jul!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --bg1: #0b1020;
      --accent: #ffdf5b;
      --accent2: #ff6fb5;
      --text-main: #ffffff;
      --ticket-bg: #121a30;
      --ticket-border: #ffdf5b;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--text-main);
      background: radial-gradient(circle at top, #2d3a7a 0, var(--bg1) 40%, #050712 100%);
      overflow-x: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .container {
      position: relative;
      max-width: 480px;
      width: 100%;
      text-align: center;
      padding: 24px 18px 28px;
      border-radius: 24px;
      background: rgba(5, 8, 20, 0.9);
      box-shadow:
        0 0 40px rgba(0, 0, 0, 0.7),
        0 0 80px rgba(255, 223, 91, 0.05);
      backdrop-filter: blur(10px);
      animation: card-pop 0.8s ease-out forwards;
      transform: translateY(30px);
      opacity: 0;
      z-index: 1;
    }

    @keyframes card-pop {
      0% {
        transform: translateY(30px) scale(0.95);
        opacity: 0;
      }
      60% {
        transform: translateY(-4px) scale(1.02);
        opacity: 1;
      }
      100% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
    }

    h1 {
      font-size: 1.9rem;
      margin-bottom: 8px;
    }

    .subtitle {
      font-size: 0.95rem;
      color: #d7ddff;
      margin-bottom: 18px;
    }

    .subtitle strong {
      color: var(--accent);
    }

    .note {
      font-size: 0.9rem;
      color: #e4e7ff;
      margin-top: 6px;
      line-height: 1.4;
    }

    .note span {
      color: var(--accent2);
      font-weight: 600;
    }

    .small-hint {
      margin-top: 10px;
      font-size: 0.75rem;
      color: #98a0d9;
      opacity: 0.9;
    }

    .small-hint strong {
      color: var(--accent);
    }

    /* Knapp */

    .reveal-btn {
      margin-top: 18px;
      background: var(--accent2);
      color: #fff;
      padding: 12px 22px;
      font-size: 1rem;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.5);
    }

    .reveal-btn:hover {
      transform: scale(1.05) translateY(-1px);
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.6);
    }

    .reveal-btn:active {
      transform: scale(0.96) translateY(1px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
    }

    /* Skjult seksjon */

    .hidden-section {
      margin-top: 16px;
      background: rgba(255, 255, 255, 0.05);
      padding: 16px;
      border-radius: 14px;
      line-height: 1.5;
      display: none;
      opacity: 0;
      transform: translateY(-8px);
      transition: all 0.4s ease;
      font-size: 0.9rem;
    }

    .hidden-section.show {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

          /* Liten personlig popup */
      .mini-popup {
        margin-top: 10px;
        font-size: 0.85rem;
        color: #ffdbe8;
        opacity: 0;
        transform: translateY(6px);
        transition: opacity 0.4s ease, transform 0.4s ease;
      }
      
      .mini-popup.show {
        opacity: 1;
        transform: translateY(0);
      }
      
      .mini-popup.hidden {
        display: none;
      }


    /* Billetter ‚Äì under teksten */

    .tickets {
      margin-top: 22px;
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .ticket {
      position: relative;
      width: 47%;
      max-width: 220px;
      min-width: 170px;
      height: 150px;
      background: radial-gradient(circle at top left, #273366, var(--ticket-bg));
      border-radius: 20px;
      border: 2px dashed var(--ticket-border);
      box-shadow:
        0 10px 25px rgba(0, 0, 0, 0.5),
        0 0 22px rgba(255, 223, 91, 0.25);
      padding: 14px 14px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      opacity: 0;
    }

    .ticket::before,
    .ticket::after {
      content: "";
      position: absolute;
      top: 50%;
      width: 16px;
      height: 16px;
      background: rgba(5, 8, 20, 0.98);
      border-radius: 50%;
      transform: translateY(-50%);
    }

    .ticket::before {
      left: -9px;
    }

    .ticket::after {
      right: -9px;
    }

    .ticket-left {
      transform: rotate(-7deg);
      animation: ticket-up-left 0.7s 0.4s ease-out forwards;
    }

    .ticket-right {
      transform: rotate(7deg);
      animation: ticket-up-right 0.7s 0.5s ease-out forwards;
    }

    @keyframes ticket-up-left {
      0% {
        transform: translateY(20px) rotate(-16deg) scale(0.9);
        opacity: 0;
      }
      100% {
        transform: translateY(0) rotate(-7deg) scale(1);
        opacity: 1;
      }
    }

    @keyframes ticket-up-right {
      0% {
        transform: translateY(20px) rotate(16deg) scale(0.9);
        opacity: 0;
      }
      100% {
        transform: translateY(0) rotate(7deg) scale(1);
        opacity: 1;
      }
    }

    .ticket-header {
      display: flex;
      justify-content: space-between;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #f5f5f5;
      opacity: 0.85;
    }

    .ticket-title {
      font-size: 0.98rem;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      margin: 4px 0;
      color: var(--accent);
      text-align: left;
    }

    .ticket-info {
      font-size: 0.8rem;
      color: #e0e4ff;
      line-height: 1.35;
      text-align: left;
    }

    .ticket-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.68rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #cfd5ff;
      opacity: 0.9;
    }

    .ticket-code {
      font-family: "SF Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.7rem;
      padding: 2px 6px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.35);
      border: 1px solid rgba(255, 255, 255, 0.15);
    }
    /* Nedtelling til konserten */
    .countdown-box {
      margin-top: 16px;
      font-size: 0.9rem;
      color: #e4e7ff;
    }

    .countdown-text span {
      font-weight: 700;
      color: var(--accent);
    }

    /* Ja / Nei-knapper */
    .rsvp {
      margin-top: 16px;
    }

    .rsvp-question {
      font-size: 0.95rem;
      margin-bottom: 8px;
    }

    .rsvp-buttons {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 6px;
    }

    .rsvp-button {
      border: none;
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 0.9rem;
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
    }

    .rsvp-yes {
      background: var(--accent2);
      color: #fff;
      box-shadow: 0 6px 14px rgba(0,0,0,0.45);
    }

    .rsvp-yes:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 18px rgba(0,0,0,0.5);
    }

    .rsvp-no {
      background: rgba(255,255,255,0.08);
      color: #f5f5f5;
    }

    .rsvp-no:hover {
      transform: scale(1.03);
      background: rgba(255,255,255,0.14);
    }

    .rsvp-no.shake {
      animation: rsvp-shake 0.3s;
    }

    @keyframes rsvp-shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-4px); }
      50% { transform: translateX(4px); }
      75% { transform: translateX(-4px); }
      100% { transform: translateX(0); }
    }

    .rsvp-response {
      font-size: 0.85rem;
      color: #e4e7ff;
    }

    .rsvp-response.positive {
      color: var(--accent2);
      font-weight: 600;
    }

    /* Ekstra lett gull-konfetti ‚Äì mobilvennlig */

    .confetti {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .confetti span {
      position: absolute;
      width: 3px;
      height: 8px;
      border-radius: 2px;
      background: #ffd700;
      opacity: 0.5;
      animation: confetti-fall 3.5s linear infinite;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(-20vh);
        opacity: 0.4;
      }
      15% {
        opacity: 0.8;
      }
      100% {
        transform: translateY(100vh);
        opacity: 0;
      }
    }
    
    /* Ekstra konfetti-boost */
        .confetti-boost {
          opacity: 0;
          pointer-events: none;
        }
        
        .confetti-boost.active {
          opacity: 1;
        }
        
        .confetti-boost span {
          animation-duration: 2.2s;
        }


    .confetti span:nth-child(1) { left: 6%;  animation-delay: 0.2s; }
    .confetti span:nth-child(2) { left: 16%; animation-delay: 1.1s; }
    .confetti span:nth-child(3) { left: 84%; animation-delay: 0.6s; }
    .confetti span:nth-child(4) { left: 94%; animation-delay: 1.7s; }
    
    .confetti-boost span:nth-child(1) { left: 8%;  animation-delay: 0.0s; }
    .confetti-boost span:nth-child(2) { left: 18%; animation-delay: 0.2s; }
    .confetti-boost span:nth-child(3) { left: 30%; animation-delay: 0.1s; }
    .confetti-boost span:nth-child(4) { left: 42%; animation-delay: 0.3s; }
    .confetti-boost span:nth-child(5) { left: 58%; animation-delay: 0.05s; }
    .confetti-boost span:nth-child(6) { left: 70%; animation-delay: 0.25s; }
    .confetti-boost span:nth-child(7) { left: 82%; animation-delay: 0.15s; }
    .confetti-boost span:nth-child(8) { left: 92%; animation-delay: 0.35s; }

/* Litt ‚Äúkraftigere‚Äù boost n√•r den aktiveres */
.confetti-boost.active span {
  opacity: 0.9;
  animation-duration: 1.8s;
}


    /* Intro-overlay med boks */

    .intro-overlay {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, #111633 0, #03040a 60%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999;
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .intro-overlay.hide {
      opacity: 0;
      transform: scale(1.03);
      pointer-events: none;
    }

    .intro-box {
      text-align: center;
      padding: 20px;
    }

    .intro-main {
      font-size: 1.1rem;
      margin-bottom: 10px;
      color: #f5f0ff;
    }

    .intro-sub {
      font-size: 0.9rem;
      color: #c4c6ff;
      min-height: 1.2em;
    }

    .intro-dots {
      margin-top: 10px;
      font-size: 1.4rem;
      letter-spacing: 0.2em;
      color: var(--accent);
      opacity: 0;
      animation: dots 1.2s infinite;
    }

    @keyframes dots {
      0% { opacity: 0; }
      50% { opacity: 1; }
      100% { opacity: 0; }
    }

    .intro-bar {
      margin-top: 14px;
      width: 180px;
      max-width: 70vw;
      height: 6px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.15);
      overflow: hidden;
      display: none;
      margin-left: auto;
      margin-right: auto;
    }

    .intro-bar-fill {
      height: 100%;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--accent2), var(--accent));
      animation: bar-fill 3s linear forwards;
    }

    @keyframes bar-fill {
      from { width: 0%; }
      to { width: 100%; }
    }

    .intro-count-wrapper {
      margin-top: 14px;
      display: none;
    }

    .intro-count-label {
     display: none;
    }

    .intro-count-number {
      font-size: 3rem;
      font-weight: 700;
      color: var(--accent);
      text-shadow: 0 0 22px rgba(255, 223, 91, 0.7);
    }

    /* Gave-eske steg */

    .gift-stage {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, #111633 0, #03040a 60%);
      display: none;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      z-index: 900;
      transition: opacity 0.6s ease;
    }

    .gift-stage.show {
      display: flex;
      opacity: 1;
    }

    .gift-box-wrapper {
      position: relative;
      width: 130px;
      height: 130px;
      perspective: 900px;
      cursor: pointer;
    }

    .gift-base {
      width: 100%;
      height: 100%;
      background: #ff2d55;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.5);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0;
    }

    /* Gaveb√•nd */
    .gift-base::before,
    .gift-base::after {
      content: "";
      position: absolute;
      background: #ffd700;
    }

    .gift-base::before {
      width: 18%;
      height: 100%;
      left: 50%;
      top: 0;
      transform: translateX(-50%);
    }

    .gift-base::after {
      height: 18%;
      width: 100%;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
    }

    .gift-emoji {
      position: relative;
      font-size: 3rem;
      z-index: 2;
    }

    .gift-lid {
      position: absolute;
      top: -10px;
      left: 0;
      width: 100%;
      height: 45px;
      background: #ff3f5c;
      border-radius: 16px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.4);
      transform-origin: top center;
      transform: rotateX(0deg);
      transition: transform 0.6s ease;
    }

    .gift-lid::before,
    .gift-lid::after {
      content: "";
      position: absolute;
      background: #ffd700;
    }

    .gift-lid::before {
      width: 18%;
      height: 100%;
      left: 50%;
      top: 0;
      transform: translateX(-50%);
    }

    .gift-lid::after {
      height: 40%;
      width: 100%;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
    }

    .gift-lid.open {
      transform: rotateX(-120deg);
    }

    .gift-light {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 140px;
      height: 140px;
      transform: translate(-50%, -50%);
      background: radial-gradient(circle, rgba(255,215,0,0.7), transparent 70%);
      border-radius: 50%;
      opacity: 0;
      transition: opacity 0.6s ease;
    }

    .gift-light.show {
      opacity: 1;
    }

    .gift-text {
      margin-top: 14px;
      color: #f5eaff;
      font-size: 1.1rem;
      animation: fadeIn 1.2s ease forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Mobil */

    @media (max-width: 480px) {
      .container {
        padding: 20px 14px 22px;
        border-radius: 20px;
      }

      h1 {
        font-size: 1.6rem;
      }

      .subtitle {
        font-size: 0.9rem;
      }

      .ticket {
        width: 80%;
        max-width: none;
        margin-bottom: 6px;
      }

      .ticket-left,
      .ticket-right {
        transform: rotate(0deg);
      }

      .intro-main {
        font-size: 1rem;
      }

      .intro-count-number {
        font-size: 2.4rem;
      }
    }
    /* Cinematic reveal overlay */
.cinematic-overlay {
  position: fixed;
  inset: 0;
  z-index: 950; /* under intro-overlay (999), over alt annet */
  display: none;
  align-items: center;
  justify-content: center;
  background: #03040a;
  backdrop-filter: blur(6px);
  pointer-events: none;
}

.cinematic-overlay.show {
  display: flex;
}

.cinematic-text {
  font-weight: 800;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--accent);
  text-shadow: 0 0 28px rgba(255, 223, 91, 0.35);
  transform: scale(0.2);
  opacity: 0;
  will-change: transform, opacity;
  text-align: center;
  padding: 0 14px;
  /* Stor og mobilvennlig: */
  font-size: clamp(2.2rem, 12vw, 5rem);
}

.cinematic-text.play {
  animation: cinematic-pop 3.0s ease-out forwards;
}

@keyframes cinematic-pop {
  0% {
    transform: scale(0.18);
    opacity: 0;
    filter: blur(8px);
  }
  22% {
    opacity: 1;
    filter: blur(0px);
    transform: scale(1.0);
  }
  70% {
    opacity: 1;
    transform: scale(1.85);
  }
  100% {
    opacity: 0;
    transform: scale(2.05);
  }
}


/* Litt mer ‚Äúfilm‚Äù p√• store skjermer */
@media (min-width: 700px) {
  .cinematic-text.play {
    animation-duration: 1.1s;
  }
}
    /* Skjul hovedinnhold til vi er klare */
.container.hidden-ui {
  opacity: 0 !important;
  transform: translateY(12px) !important;
  pointer-events: none !important;
  animation: none !important; /* VIKTIG: stopper card-pop fra √• overstyre */
}


.container.show-ui {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
  transition: opacity 0.7s ease, transform 0.7s ease;
}

    /* Subtil cinematic BOOM (screen rumble) */
@keyframes boom-shake {
  0%   { transform: translate(0, 0); }
  20%  { transform: translate(-2px, 1px); }
  40%  { transform: translate(2px, -1px); }
  60%  { transform: translate(-1px, -2px); }
  80%  { transform: translate(1px, 2px); }
  100% { transform: translate(0, 0); }
}

.boom {
  animation: boom-shake 0.18s ease-out;
}



  </style>
</head>
<body>

  <!-- Introsekvens -->
  <div id="introOverlay" class="intro-overlay">
    <div class="intro-box">
      <p id="introMain" class="intro-main">Sjekker om Sigrid har v√¶rt snill i √•r‚Ä¶</p>
      <p id="introSub" class="intro-sub"></p>
      <div id="introDots" class="intro-dots">...</div>
      <div id="introBar" class="intro-bar">
        <div id="introBarFill" class="intro-bar-fill"></div>
      </div>
      <div id="introCount" class="intro-count-wrapper">
        <div class="intro-count-label"></div>
        <div id="introCountNumber" class="intro-count-number">5</div>
      </div>
    </div>
  </div>

  <!-- Gave-eske -->
  <div id="giftStage" class="gift-stage">
    <div id="giftBoxWrapper" class="gift-box-wrapper">
      <div id="giftLight" class="gift-light"></div>
      <div id="giftLid" class="gift-lid"></div>
      <div class="gift-base">
        <div class="gift-emoji">üéÅ</div>
      </div>
    </div>
    <p class="gift-text">Trykk for √• √•pne gaven</p>
  </div>

  <!-- Cinematic reveal (etter nedtelling, f√∏r info) -->
<div id="cinematicOverlay" class="cinematic-overlay">
  <div id="cinematicText" class="cinematic-text">27. APRIL</div>
</div>


  <!-- Konfetti -->
  <div class="confetti">
    <span></span><span></span><span></span><span></span>
  </div>
  <!-- Ekstra konfetti ved riktig svar -->
  <div class="confetti confetti-boost" id="confettiBoost">
    <span></span><span></span><span></span><span></span>
    <span></span><span></span><span></span><span></span>
  </div>


  <main class="container hidden-ui" id="mainUI">
    <h1>God jul Sigrid! ‚ù§Ô∏èüéÑ</h1>
    <p class="subtitle">
      Vi skal p√• konsert!<br>
      <strong>TAME IMPALA, 27. APRIL, OSLO</strong>
    </p>

    <p class="note">
      Dette er <span>din</span> offisielle bekreftelse p√• du endelig skal f√• se din favoritt (etter meg ofc) live.
      Ingen refusjon, bare god stemning. ‚ú®
    </p>

    <button class="reveal-btn" id="revealBtn">Vis mer info üéÅ</button>

    <p class="mini-popup hidden" id="miniPopup">
    PS: Jeg gleder meg mest til √• dra med deg ‚ù§Ô∏è
      </p>


    <div class="hidden-section" id="hiddenSection">
      <p><strong>Praktisk info:</strong></p>
      <p>
        ‚Ä¢ Vi drar til Sandejord noen dager f√∏r<br>
        ‚Ä¢ Overnatting ordner jeg<br>
        ‚Ä¢ Du trenger bare √• m√∏te opp og v√¶re s√∏t<br>
        ‚Ä¢ Jeg fikser resten ü´∂
        ‚Ä¢ En liten overraskelse til: √Ösne og Herman skal ogs√• wohoo!üéâ
      </p>
    </div>

     <div class="tickets">
      <!-- Billett 1 -->
      <div class="ticket ticket-left">
        <div class="ticket-header">
          <span>Konsertbillett</span>
          <span>Rad ‚ô•</span>
        </div>
        <div class="ticket-title">TAME IMPALA</div>
        <div class="ticket-info">
          27. april ¬∑ Oslo<br>
          To plasser reservert til<br>
          <strong>deg + han kule fyren som ga gaven</strong>
        </div>
        <div class="ticket-footer">
          <span>Inngang</span>
          <span class="ticket-code">JULEGAVE-001</span>
        </div>
      </div>

      <!-- Billett 2 -->
      <div class="ticket ticket-right">
        <div class="ticket-header">
          <span>Konsertbillett</span>
          <span>Rad üí´</span>
        </div>
        <div class="ticket-title">TAME IMPALA</div>
        <div class="ticket-info">
          Dato: 27. april<br>
          Sted: Oslo<br>
          Dresskode: <strong>godt hum√∏r</strong>
        </div>
        <div class="ticket-footer">
          <span>VIP-ish</span>
          <span class="ticket-code">JULEGAVE-002</span>
        </div>
      </div>
    </div>

    <!-- Nedtelling til konserten -->
    <div class="countdown-box">
      <p class="countdown-text">
        Det er <span id="daysToConcert">‚Ä¶</span> dager til konserten üé∂
      </p>
    </div>

    <!-- Ja / Nei-knapper -->
    <div class="rsvp">
      <p class="rsvp-question">Blir du med?</p>
      <div class="rsvp-buttons">
        <button class="rsvp-button rsvp-yes" id="rsvpYes">Ja, jeg blir med! ü•π</button>
        <button class="rsvp-button rsvp-no" id="rsvpNo">Nei‚Ä¶</button>
      </div>
      <p class="rsvp-response" id="rsvpResponse"></p>
    </div>

    <p class="small-hint">
      (Hvis du lurer p√• noe mer: sp√∏r han som fikk deg til √• scanne denne) üòè
    </p>
  </main>

  <script>
    const mainUI = document.getElementById("mainUI");
if (mainUI) {
  mainUI.classList.add("hidden-ui");
  mainUI.classList.remove("show-ui");
}

    // Knapp for mer info
    const btn = document.getElementById("revealBtn");
    const section = document.getElementById("hiddenSection");

    let popupShown = false;
    
    btn.addEventListener("click", () => {
      section.classList.toggle("show");
      btn.textContent = section.classList.contains("show")
        ? "Skjul info üîí"
        : "Vis mer info üéÅ";
    
      const popup = document.getElementById("miniPopup");
      if (!popup) return;
    
      if (!popupShown && section.classList.contains("show")) {
        popupShown = true;
        setTimeout(() => {
          popup.classList.remove("hidden");
          popup.classList.add("show");
        }, 2000);
      }
    });


    // Intro-sekvens
    const overlay = document.getElementById("introOverlay");
    const introMain = document.getElementById("introMain");
    const introSub  = document.getElementById("introSub");
    const introDots = document.getElementById("introDots");
    const introBar  = document.getElementById("introBar");
    const introBarFill = document.getElementById("introBarFill");
    const introCountWrap = document.getElementById("introCount");
    const introCountNumber = document.getElementById("introCountNumber");

    const steps = [
      {
        text: "Sjekker om Sigrid har v√¶rt snill i √•r‚Ä¶",
        sub: "",
        showDots: true,
        showBar: false,
        duration: 3500
      },
      {
        text: "Analyserer Sigrids julestatus‚Ä¶",
        sub: "",
        showDots: false,
        showBar: true,
        duration: 4200,
        restartBar: true
      },
      {
        text: "Resultat klart.",
        sub: "Sigrid er ‚Ä¶ akkurat snill nok til √• f√• gaven üéÅ",
        showDots: false,
        showBar: false,
        duration: 4200
      },
      {
        text: "Starter superhemmelig gaveprotokoll‚Ä¶",
        sub: "",
        showDots: false,
        showBar: false,
        duration: 3500
      },
      {
        text: "Kalibrerer romantikkniv√•‚Ä¶",
        sub: "",
        showDots: false,
        showBar: false,
        duration: 3500
      },
      {
        text: "Tester forventningsmotor‚Ä¶",
        sub: "",
        showDots: false,
        showBar: false,
        duration: 3500
      },
      {
        text: "Julegave klar.",
        sub: "",
        showDots: false,
        showBar: false,
        duration: 3500
      }
    ];

    let stepIndex = 0;

    function runStep() {
      const step = steps[stepIndex];
      introMain.textContent = step.text;
      introSub.textContent = step.sub || "";

      introDots.style.display = step.showDots ? "block" : "none";
      introBar.style.display  = step.showBar ? "block" : "none";

      if (step.showBar && step.restartBar && introBarFill) {
        introBarFill.style.animation = "none";
        void introBarFill.offsetWidth;
        introBarFill.style.animation = "bar-fill 3s linear forwards";
      }

      setTimeout(() => {
        stepIndex++;
        if (stepIndex < steps.length) {
          runStep();
        } else {
          showGiftBox();
        }
      }, step.duration);
    }

    // Gave-eske
    const giftStage = document.getElementById("giftStage");
    const giftBoxWrapper = document.getElementById("giftBoxWrapper");
    const giftLid = document.getElementById("giftLid");
    const giftLight = document.getElementById("giftLight");

    function showGiftBox() {
      overlay.classList.add("hide");
      setTimeout(() => {
        overlay.style.display = "none";
      }, 650);

      giftStage.classList.add("show");
    }

    giftBoxWrapper.addEventListener("click", () => {
      giftLid.classList.add("open");
      giftLight.classList.add("show");

      setTimeout(() => {
        giftStage.classList.remove("show");
        startCountdown();
      }, 1500);
    });

    // Nedtelling
    function startCountdown() {
      overlay.style.display = "flex";
      overlay.classList.remove("hide");

      introMain.textContent = "Gaven er klar om";
      introSub.textContent = "";
      introDots.style.display = "none";
      introBar.style.display = "none";
      introCountWrap.style.display = "block";

      let count = 5;
      introCountNumber.textContent = count;

      const countdown = setInterval(() => {
              count--;
      if (count <= 0) {
        clearInterval(countdown);
      
        // Skjul nedtelling-overlay f√∏rst
        overlay.classList.add("hide");
        setTimeout(() => {
          overlay.style.display = "none";
      
          // Kj√∏r cinematic reveal f√∏r main-siden er ‚Äúfri‚Äù
          runCinematicReveal();
        }, 650);
      
      } else {
        introCountNumber.textContent = count;
      }

      }, 900);
    }

function runCinematicReveal() {
  const cinOverlay = document.getElementById("cinematicOverlay");
  const cinText = document.getElementById("cinematicText");
  const mainUI = document.getElementById("mainUI");
  if (!cinOverlay || !cinText || !mainUI) return;

  const words = ["27. APRIL", "TAME", "IMPALA"];
  let i = 0;

  // Skjul alt UI helt
  mainUI.classList.remove("show-ui");
  mainUI.classList.add("hidden-ui");

  cinOverlay.classList.add("show");

  const perWordMs = 2700;       // total tid per ord
  const boomAtMs = 900;         // n√•r BOOM treffer i animasjonen

  function playNext() {
    cinText.textContent = words[i];

    // restart text animation
    cinText.classList.remove("play");
    void cinText.offsetWidth;
    cinText.classList.add("play");

    // BOOM-effekt (kort og kontrollert)
    setTimeout(() => {
      cinOverlay.classList.add("boom");
      setTimeout(() => cinOverlay.classList.remove("boom"), 200);
    }, boomAtMs);

    i++;

    setTimeout(() => {
      if (i < words.length) {
        playNext();
      } else {
        // Ferdig ‚Üí vis hovedinnhold
        cinOverlay.classList.remove("show");
        mainUI.classList.remove("hidden-ui");
        mainUI.classList.add("show-ui");
      }
    }, perWordMs);
  }

  playNext();
}



    
    window.addEventListener("load", () => {
      runStep();
    });

    console.log("Gave bekreftet: Tame Impala, 27. april, Oslo üé´");
        // Nedtelling til konsert (bruker dagens √•r, og hopper til neste √•r hvis datoen har v√¶rt)
    (function() {
      const span = document.getElementById("daysToConcert");
      if (!span) return;

      const today = new Date();
      // 27. april, m√•ned 3 (0 = jan)
      let target = new Date(today.getFullYear(), 3, 27);

      if (target < today) {
        target.setFullYear(target.getFullYear() + 1);
      }

      const oneDay = 1000 * 60 * 60 * 24;
      const diff = Math.round((target - today) / oneDay);
      span.textContent = diff >= 0 ? diff : 0;
    })();
    // Ja / Nei-knapper
    (function() {
      const yesBtn = document.getElementById("rsvpYes");
      const noBtn = document.getElementById("rsvpNo");
      const resp = document.getElementById("rsvpResponse");
      const boost = document.getElementById("confettiBoost");
    
      if (!yesBtn || !noBtn || !resp) return;
    
      yesBtn.addEventListener("click", () => {
        resp.textContent = "Riktig svar. Dette blir sykt kos ‚ù§Ô∏è";
        resp.classList.add("positive");
    
        if (boost) {
          boost.classList.add("active");
          setTimeout(() => boost.classList.remove("active"), 1500);
        }
      });
    
      noBtn.addEventListener("click", () => {
        resp.textContent = "Feil svar. Pr√∏v igjen üòà";
        resp.classList.remove("positive");
        noBtn.classList.add("shake");
        setTimeout(() => noBtn.classList.remove("shake"), 300);
      });
    })();

  </script>
</body>
</html>


